<section class="bg-light py-3 py-md-5 min-vh-80">
  <div class="container-fluid">
    <div class="row justify-content-center">
      <div class="col-12 col-lg-10">
        <div class="card border border-light-subtle rounded-3 shadow-sm" style="max-width: 800px; margin: auto;">
          <div class="card-body p-3 p-md-4 p-xl-5">
            <div class="text-center mb-3">
              <%= image_tag("logo.png", alt: "ロゴ画像") %>
            </div>
            <h2 class="fs-6 fw-normal text-center text-secondary mb-4">アカウント情報編集</h2>
            <%= form_with(model: resource, url: registration_path(resource_name), method: :put, local: true) do |f| %>
              <%= render "devise/shared/error_messages", resource: resource %>
              <div class="row gy-2 overflow-hidden">
                <div class="col-12">
                  <div class="form-floating mb-3">
                    <%= f.text_field :name, class: "form-control", required: true %>
                    <%= f.label :name, class: "form-label" %>
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-floating mb-3">
                    <%= f.email_field :email, class: "form-control", required: true %>
                    <%= f.label :email, "Email", class: "form-label" %>
                  </div>
                  <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
                    <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
                  <% end %>
                </div>
                <div class="col-12">
                  <div class="form-floating mb-3">
                    <%= f.text_area :bio, class: "form-control", style: "height: 100px;" %>
                    <%= f.label :bio, "自己紹介" %>
                  </div>
                </div>
                <div class="col-12">
                  <div class="mb-3 border p-2 rounded">
                    <%= f.label :avatar, "アイコン", class: "mb-2 text-black-50 fs-6 fw-lighter" %>
                    <div class="d-flex">
                      <%= image_tag @user.avatar.url, class: "me-3", alt: "アバター画像" %>
                      <%= f.file_field :avatar, class: "form-control" %>
                    </div>
                  </div>
                </div>
                <div class="col-12">
                  <div class="d-grid my-3">
                    <%= f.submit "更新する", class: "btn btn-lg" %>
                  </div>
                </div>
                <div class="col-12 text-center">
                  <%= link_to "マイページに戻る", profile_path(current_user.id) %>
                </div>
                <div class="col-12 text-center">
                <%= link_to "アカウントを削除する", registration_path(resource_name),
                  method: :delete,
                  data: { confirm: "本当に削除しますか？" },
                  class: "text-danger" %>
                </div>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
